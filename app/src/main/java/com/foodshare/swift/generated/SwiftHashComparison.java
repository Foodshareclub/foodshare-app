// Generated by jextract-swift
package com.foodshare.swift.generated;

import org.swift.swiftkit.core.annotations.*;

/**
 * Hash comparison result from Swift ImageProcessorEngine.
 */
@ThreadSafe
public final class SwiftHashComparison implements AutoCloseable {

    static {
        System.loadLibrary("FoodshareCore");
    }

    private final long pointer;
    private boolean closed = false;

    SwiftHashComparison(long pointer) {
        this.pointer = pointer;
    }

    public double getSimilarity() {
        checkNotClosed();
        return $getSimilarity(pointer);
    }

    public boolean isDuplicate() {
        checkNotClosed();
        return $isDuplicate(pointer);
    }

    private void checkNotClosed() {
        if (closed) {
            throw new IllegalStateException("SwiftHashComparison already closed");
        }
    }

    @Override
    public void close() {
        if (!closed) {
            $destroy(pointer);
            closed = true;
        }
    }

    // Native method declarations
    private static native double $getSimilarity(long pointer);
    private static native boolean $isDuplicate(long pointer);
    private static native void $destroy(long pointer);
}
