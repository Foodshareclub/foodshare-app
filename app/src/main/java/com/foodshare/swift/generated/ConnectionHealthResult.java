// Generated by jextract-swift
// Swift module: FoodshareCore

package com.foodshare.swift.generated;

import org.swift.swiftkit.core.*;
import org.swift.swiftkit.core.annotations.*;
import java.util.Optional;

/**
 * Connection health evaluation result.
 */
@ThreadSafe
public final class ConnectionHealthResult implements AutoCloseable {
    private final long selfPointer;
    private boolean destroyed = false;

    ConnectionHealthResult(long selfPointer) {
        this.selfPointer = selfPointer;
    }

    public String getStatus() {
        return $getStatus(selfPointer);
    }

    public String getQuality() {
        return $getQuality(selfPointer);
    }

    public int getHealthScore() {
        return $getHealthScore(selfPointer);
    }

    public Optional<Double> getAverageLatencyMs() {
        int[] discriminator = new int[1];
        double value = $getAverageLatencyMs(selfPointer, discriminator);
        return (discriminator[0] == 1) ? Optional.of(value) : Optional.empty();
    }

    public double getErrorRate() {
        return $getErrorRate(selfPointer);
    }

    public String getConnectionType() {
        return $getConnectionType(selfPointer);
    }

    public String getRecommendation() {
        return $getRecommendation(selfPointer);
    }

    public boolean getShouldProceed() {
        return $getShouldProceed(selfPointer);
    }

    public boolean getShouldUseOfflineMode() {
        return $getShouldUseOfflineMode(selfPointer);
    }

    @Override
    public void close() {
        if (!destroyed) {
            $destroy(selfPointer);
            destroyed = true;
        }
    }

    private static native String $getStatus(long selfPointer);
    private static native String $getQuality(long selfPointer);
    private static native int $getHealthScore(long selfPointer);
    private static native double $getAverageLatencyMs(long selfPointer, int[] discriminator);
    private static native double $getErrorRate(long selfPointer);
    private static native String $getConnectionType(long selfPointer);
    private static native String $getRecommendation(long selfPointer);
    private static native boolean $getShouldProceed(long selfPointer);
    private static native boolean $getShouldUseOfflineMode(long selfPointer);
    private static native void $destroy(long selfPointer);
}
