// Generated by jextract-swift
package com.foodshare.swift.generated;

import org.swift.swiftkit.core.annotations.*;

/**
 * Swift SearchEngine for NLP-like query processing.
 * Thread-safe static methods delegating to Swift implementation.
 */
@ThreadSafe
public final class SearchEngine {
    private SearchEngine() {}

    static {
        System.loadLibrary("FoodshareCore");
    }

    // Query Parsing
    public static ParsedQuery parseQuery(String query) {
        long ptr = $parseQuery(query);
        return new ParsedQuery(ptr);
    }

    // Spelling Correction
    public static SpellingCorrection correctSpelling(String query) {
        long ptr = $correctSpelling(query);
        return new SpellingCorrection(ptr);
    }

    // Synonym Expansion (returns comma-separated string)
    public static String expandSynonyms(String tokensCsv) {
        return $expandSynonyms(tokensCsv);
    }

    // Relevance Scoring
    public static RelevanceScore calculateRelevance(
            String searchTermsCsv,
            String categoriesCsv,
            String dietaryFiltersCsv,
            String itemTitle,
            String itemDescription,
            String itemCategory,
            String itemDietaryTagsCsv,
            long itemCreatedAt,
            double itemDistance,
            boolean hasDistance,
            int itemViewCount,
            String preferredCategoriesCsv,
            boolean isTrustedUser) {
        long ptr = $calculateRelevance(
                searchTermsCsv, categoriesCsv, dietaryFiltersCsv,
                itemTitle, itemDescription, itemCategory, itemDietaryTagsCsv,
                itemCreatedAt, itemDistance, hasDistance, itemViewCount,
                preferredCategoriesCsv, isTrustedUser);
        return new RelevanceScore(ptr);
    }

    // Edit Distance
    public static int editDistance(String s1, String s2) {
        return $editDistance(s1, s2);
    }

    // Fuzzy Matching
    public static FuzzyMatchResult fuzzyMatch(String query, String candidate, double threshold) {
        long ptr = $fuzzyMatch(query, candidate, threshold);
        return new FuzzyMatchResult(ptr);
    }

    // Find Matched Terms (returns comma-separated string)
    public static String findMatchedTerms(String searchTermsCsv, String content) {
        return $findMatchedTerms(searchTermsCsv, content);
    }

    // Native methods
    private static native long $parseQuery(String query);
    private static native long $correctSpelling(String query);
    private static native String $expandSynonyms(String tokensCsv);
    private static native long $calculateRelevance(
            String searchTermsCsv, String categoriesCsv, String dietaryFiltersCsv,
            String itemTitle, String itemDescription, String itemCategory, String itemDietaryTagsCsv,
            long itemCreatedAt, double itemDistance, boolean hasDistance, int itemViewCount,
            String preferredCategoriesCsv, boolean isTrustedUser);
    private static native int $editDistance(String s1, String s2);
    private static native long $fuzzyMatch(String query, String candidate, double threshold);
    private static native String $findMatchedTerms(String searchTermsCsv, String content);
}
