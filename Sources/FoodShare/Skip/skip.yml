# Skip Configuration for FoodShare
# Transpiles Swift/SwiftUI to Kotlin/Jetpack Compose

# Skip all iOS-specific files
skip:
  - "**/*+iOS.swift"
  - "**/ci_scripts/**"
  - "**/Preview Content/**"
  - "**/*.storekit"
  - "**/*.entitlements"
  - "**/*.plist"
  - "**/Info.plist"
  - "**/AppDelegate.swift"
  - "**/StoreKitService.swift"
  - "**/WidgetDataProvider.swift"
  - "**/ShareService.swift"
  - "**/CameraImagePicker.swift"
  - "**/DeviceCheckService.swift"
  - "**/GlassBiometricPrompt.swift"
  - "**/RenderQualityManager.swift"
  - "**/MapPreferencesService.swift"
  - "**/PushNotificationService.swift"
  - "**/FrameRateMonitor.swift"
  - "**/AdvancedHapticEngine.swift"
  - "**/MemoryPressureManager.swift"
  - "**/AppAttestService.swift"
  - "**/AttestationMiddleware.swift"
  # CoreData / persistence (NSManagedObject, @objc, @NSManaged)
  - "**/CoreDataStack.swift"
  - "**/SyncManager.swift"
  - "**/TombstoneSync.swift"
  # UIKit-dependent views and services
  - "**/ImageCache.swift"
  - "**/LegalDocumentView.swift"
  - "**/SettingsBackupView.swift"
  - "**/MFAEnrollmentView.swift"
  # Metal rendering (MTKView, CADisplayLink)
  - "**/MetalEffectModifiers.swift"
  - "**/MetalEffect.swift"
  - "**/ProfileMetalEffects.swift"
  - "**/ChatMetalEffects.swift"
  - "**/FeedMetalEffects.swift"
  # Combine + UIAccessibility
  - "**/AccessibilityManager.swift"
  # SQLite C interop
  - "**/LogStorage.swift"
  # Security (CryptoKit, Keychain)
  - "**/PayloadEncryption.swift"
  - "**/RequestSigner.swift"
  - "**/SecureStorage.swift"
  - "**/NonceGenerator.swift"
  - "**/KeychainHelper.swift"
  - "**/KeychainStorage.swift"
  - "**/CertificatePinning.swift"
  # UIKit-dependent utilities
  - "**/GestureMomentum.swift"
  - "**/PrivacyProtectionService.swift"
  - "**/PerformanceMonitor.swift"
  - "**/StartupProfiler.swift"
  - "**/GlassNavigationBar.swift"
  # Map/Location (deep CoreLocation/MapKit dependency)
  - "**/LocationManager.swift"
  - "**/MapView.swift"
  - "**/MapViewModel.swift"
  - "**/AddressPickerSheet.swift"
  - "**/FoodItemMapAnnotation.swift"
  - "**/GlassSearchRadius.swift"
  # Combine-dependent state machines
  - "**/SessionStateMachine.swift"
  - "**/AppStateManager.swift"
  # iOS-only app icon management
  - "**/AppIconOption.swift"
  
# Platform-specific implementations
platform:
  ios:
    - "Core/Extensions/FoodItem+iOS.swift"
  android:
    - "Core/Extensions/FoodItem+Android.swift"

# Transpile settings
transpile:
  # Skip iOS-only frameworks
  exclude_imports:
    - UIKit
    - AppKit
    - StoreKit
    - DeviceCheck
    - LocalAuthentication
    - CryptoKit
    - CoreData
    - CoreLocation
    - MapKit
    - UserNotifications
    - Combine
    - Inject
    - Lottie
    - SwiftUIIntrospect
    - SwiftUIX
    - Sentry
    - KeychainAccess
    - Network
    - AuthenticationServices
    - WidgetKit
    - CoreHaptics
    - CoreMotion
    - Security
    - QuartzCore
    - SafariServices
    - Metal
    - MetalKit
    - CoreImage
    # Local iOS SPM packages (all types are in single target for Skip)
    - FoodShareAnalytics
    - FoodShareArchitecture
    - FoodShareCache
    - FoodShareDesignSystem
    - FoodShareErrors
    - FoodShareFeatureFlags
    - FoodShareMacros
    - FoodShareNetworking
    - FoodSharePerformance
    - FoodShareRepository
    - FoodShareRouter
    - FoodShareSecurity
  
  # Map to Android equivalents
  import_mapping:
    SwiftUI: "androidx.compose"
    Foundation: "kotlin.stdlib"
    Supabase: "io.github.jan.supabase"
    Kingfisher: "coil"

# Android-specific settings
android:
  minSdk: 26
  targetSdk: 35
  compileSdk: 35
  namespace: "club.foodshare.android"
  
# Build optimization
optimization:
  level: "release"
  strip_debug: true
